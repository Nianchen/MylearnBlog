<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nianchen的小白之路</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Nianchen的小白之路">
    
    <link rel="preload" href="/MylearnBlog/assets/css/0.styles.918ca8c1.css" as="style"><link rel="preload" href="/MylearnBlog/assets/js/app.27f3880a.js" as="script"><link rel="preload" href="/MylearnBlog/assets/js/2.f721d287.js" as="script"><link rel="preload" href="/MylearnBlog/assets/js/11.051bdd2d.js" as="script"><link rel="prefetch" href="/MylearnBlog/assets/js/10.ccfd7fe5.js"><link rel="prefetch" href="/MylearnBlog/assets/js/12.9c22f304.js"><link rel="prefetch" href="/MylearnBlog/assets/js/13.de409628.js"><link rel="prefetch" href="/MylearnBlog/assets/js/14.1f2c6068.js"><link rel="prefetch" href="/MylearnBlog/assets/js/15.8ade8984.js"><link rel="prefetch" href="/MylearnBlog/assets/js/16.819d395b.js"><link rel="prefetch" href="/MylearnBlog/assets/js/3.319c8c5f.js"><link rel="prefetch" href="/MylearnBlog/assets/js/4.f44cc96c.js"><link rel="prefetch" href="/MylearnBlog/assets/js/5.9a03436e.js"><link rel="prefetch" href="/MylearnBlog/assets/js/6.055af053.js"><link rel="prefetch" href="/MylearnBlog/assets/js/7.c0a447fb.js"><link rel="prefetch" href="/MylearnBlog/assets/js/8.63f4b368.js"><link rel="prefetch" href="/MylearnBlog/assets/js/9.0e255a36.js">
    <link rel="stylesheet" href="/MylearnBlog/assets/css/0.styles.918ca8c1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/MylearnBlog/" class="home-link router-link-active"><!----> <span class="site-name">Nianchen的小白之路</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/MylearnBlog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="MyGithub" class="dropdown-title"><span class="title">MyGithub</span> <span class="arrow down"></span></button> <button type="button" aria-label="MyGithub" class="mobile-dropdown-title"><span class="title">MyGithub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Nianchen" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/MylearnBlog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="MyGithub" class="dropdown-title"><span class="title">MyGithub</span> <span class="arrow down"></span></button> <button type="button" aria-label="MyGithub" class="mobile-dropdown-title"><span class="title">MyGithub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Nianchen" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>入门知识系列</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/MylearnBlog/browser/browser.html" class="sidebar-link">浏览器原理</a></li><li><a href="/MylearnBlog/javascript/Javascript.html" class="sidebar-link">JavaScript入门</a></li><li><a href="/MylearnBlog/ES6入门/ES6.html" class="sidebar-link">ES6入门</a></li><li><a href="/MylearnBlog/深入系列/深入系列.html" class="sidebar-link">JavaScript深入系列</a></li><li><a href="/MylearnBlog/Vue2/Vue2.html" class="sidebar-link">Vue2入门</a></li><li><a href="/MylearnBlog/Typescript/Typescript.html" aria-current="page" class="active sidebar-link">Typescript入门</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/MylearnBlog/Typescript/Typescript.html#类型断言" class="sidebar-link">类型断言</a></li><li class="sidebar-sub-header"><a href="/MylearnBlog/Typescript/Typescript.html#字面量类型" class="sidebar-link">字面量类型</a></li><li class="sidebar-sub-header"><a href="/MylearnBlog/Typescript/Typescript.html#字面量推断" class="sidebar-link">字面量推断</a></li><li class="sidebar-sub-header"><a href="/MylearnBlog/Typescript/Typescript.html#非空断言操作符-后缀-non-null-assertion-operator" class="sidebar-link">非空断言操作符（后缀 !）(Non-null Assertion Operator)</a></li><li class="sidebar-sub-header"><a href="/MylearnBlog/Typescript/Typescript.html#类型收窄-narrowing" class="sidebar-link">类型收窄（Narrowing）</a></li><li class="sidebar-sub-header"><a href="/MylearnBlog/Typescript/Typescript.html#函数重载-function-overloads" class="sidebar-link">函数重载（Function Overloads）</a></li><li class="sidebar-sub-header"><a href="/MylearnBlog/Typescript/Typescript.html#在函数中声明-this-declaring-this-in-a-function" class="sidebar-link">在函数中声明 this (Declaring this in a Function)</a></li></ul></li><li><a href="/MylearnBlog/javascript/正则表达式.html" class="sidebar-link">正则表达式</a></li><li><a href="/MylearnBlog/计算机网络入门/计算机网络.html" class="sidebar-link">计算机网络入门</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>小工具系列</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/MylearnBlog/小工具系列/如何搭建自己的图床笔记.html" class="sidebar-link">如何在笔记中添加自己的图床</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>为啥要学Ts 因为不学会死</p> <p>Ts本身就是一种严格模式下的js对js加上了一些更多的规范化</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code> 类型限制

Typescript 在声明变量的时候 如同c语言一样要声明变量的类型 所以Ts是一门强类型语言，而Js是一们弱类型语言，这就是两者区别之一
比如Js声明变量
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">let</span> a<span class="token operator">=</span> <span class="token string">''</span>
但是Ts声明变量
<span class="token keyword">let</span> age：number <span class="token operator">=</span> <span class="token number">18</span>
<span class="token keyword">let</span> realName：string <span class="token operator">=</span> <span class="token string">'lin'</span>
<span class="token comment">//这个明显更加专业与复杂</span>
数组定义 确定数组内存储的类型
<span class="token keyword">let</span> <span class="token literal-property property">names</span><span class="token operator">:</span>Array<span class="token operator">&lt;</span>number<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> <span class="token literal-property property">names</span><span class="token operator">:</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">//以这种写法为主</span>

虽然any可以梭哈 但是也丧失了Ts独特的类型限制
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code>Ts的基本数据类型和Js上一样 但是多了几个自身特点的数据类型比如<span class="token builtin">any</span>，<span class="token builtin">unknown</span>，<span class="token keyword">void</span> 

<span class="token builtin">any</span>就是把变量 变成了弱类型语言 但是如果使用了<span class="token builtin">any</span>就丧失了Ts本身的特点

<span class="token builtin">unknown</span>未知变量类型 因为未知 所有利用他进行一切操作都是违法的 因为类型未知
<span class="token comment">//unknown是为了如果这个类型未知 随意赋值使用会造成一些问题</span>
<span class="token keyword">void</span> 和c一样指空类型 一般用于函数返回值

<span class="token builtin">never</span> 永远没有返回值，或者抛出异常 这到底有用么<span class="token operator">...</span>

数组类型 数组类型如果没有定义元素类型的话 就只能传入一种数据类型 如果需要多种数据类型  需要定义的时候就写好

<span class="token keyword">type</span> <span class="token class-name">用于定义类型别名</span> 比如一个对象可能是多个不同的类型如果使用联合类型 太长了所以
<span class="token keyword">type</span> <span class="token class-name">IDtype</span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">boolean</span>
当然 <span class="token keyword">type</span>后也可以接对象
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">let</span> list<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code>Ts的函数 由于Ts本身限制了 数据类型 所以函数自然也要追加参数类型和返回值类型

<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> x<span class="token operator">+</span>y
<span class="token punctuation">}</span>


Ts同时支持了可选参数的写法 加入了？之后这个参数就变成饿了可选参数 ，可选参数要在必要参数之后

同时Ts的函数支持重载 但是Js的函数不支持重载
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code>接口 <span class="token keyword">interface</span>

<span class="token class-name">类似于java里的<span class="token keyword">interface</span></span> 不能说类似于 只能说一模一样，当你要使用这个接口的时候就必须完成这个接口所定义的所有东西
<span class="token keyword">interface</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token builtin">string</span>
    age<span class="token operator">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> p1 <span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
    name <span class="token operator">:</span> <span class="token string">'lin'</span>
    age <span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span>
如果属性或者方法没有被实现就会报错
<span class="token keyword">readonly</span> 如果属性被这个修饰 就变成了只读属性 不可修改
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code>面向对象
Ts的面向对象趋近与java语言 也有了所谓的属性和方法i修饰符 比如<span class="token keyword">public</span><span class="token operator">...</span><span class="token punctuation">.</span> 同时也实现了 <span class="token keyword">extends</span> <span class="token class-name">继承等语法</span> 同时如果子类拥有独立的属性或者方法 就需要把继承的属性都实现 Ts支持<span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 函数 调用父类的属性以及方法 同时 Ts 也支持抽象的存在 抽象出来的对象不嫩被实例化 而且所拥有的属性必须被子类实现 同时Ts也支持 动态方法和多态 
</code></pre></div><p><img src="https://s2.loli.net/2022/03/31/MWUwqjvLCBxoPDG.png" alt="image-20220331180845399"></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code>同样Ts 和java一样 支持<span class="token keyword">class</span> <span class="token class-name">直接</span> 继承<span class="token keyword">interface</span>接口 也就是一个<span class="token keyword">class</span>可以有多个功能接口 这样写更加灵活
<span class="token keyword">interface</span> <span class="token class-name">Musicface</span><span class="token punctuation">{</span>
	<span class="token function">playMusic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Cellphone</span> <span class="token keyword">implements</span> <span class="token class-name">MusicInterface</span><span class="token punctuation">{</span>
	<span class="token function">playMusic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code>枚举 <span class="token keyword">enum</span>

类比java以及<span class="token constant">C</span><span class="token operator">++</span>的枚举数据类型 
在枚举数据类型 中 下表递增而且 枚举名字和下表是双向映射的
<span class="token keyword">enum</span> Direction<span class="token punctuation">{</span>
	up<span class="token punctuation">,</span>donw<span class="token punctuation">,</span>left<span class="token punctuation">,</span>right<span class="token comment">///0 1 2 3</span>
<span class="token punctuation">}</span>
这个递增的值取决于 首相的值
枚举中的成员可以参加计算
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>类型推论

Ts中其实也是存在静态类型检测的 比如你在声明一个变量的时候已经对其进行赋值了 那么他就会进一步的 转换成响应的 数据类型  当然如果你没有声明这个数据类型 他就会声明成any变量 any虽然可以被赋值成所有的数据类型 但是他丧失了Ts的特性
</code></pre></div><p>所以为了开发契合 Ts的特点 最好还是 在声明变量 或者接受变量的时候 生命好数据类型 避免发生不必要的类型转换 同时也更好的契合 后面Ts提出的泛型概念</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code>联合类型

如果 这个变量需要多种不同的数据类型 进行加持 
那么 就产生了新的联合类型 
<span class="token keyword">let</span> num <span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span>	
如此之后 这个变量就可以被声明成多种数据类型
但是这么定义以后 这个变量只能访问属于两者共同的方法 
比如num 没有length 但是 <span class="token builtin">string</span> 中含有 length 就不能同时使用这两种方法

交叉类型
就是对原有数据类型 进行拓展 <span class="token operator">&amp;</span> 拓展出后面那个数据类型 
</code></pre></div><p>type 参考 c 的 typedef 后依旧 只能调用原有的 属性方法  要不然 还是报错  //存在的意义是什么？？？</p> <p><img src="https://cdn.jsdelivr.net/gh/Nianchen/LearnImg/202209262024264.png" alt="image-20220331222541461"></p> <p>断言 Ts无法获取具体的类型信息</p> <p>使用断言告诉编译器 我知道这个数据类型会是什么 你不需要给我报错</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">as</span> <span class="token keyword">const</span> 可以把响应的推断数据类型数据 转换成 d的字面量

<span class="token keyword">function</span> <span class="token function">getLength</span><span class="token punctuation">(</span>arg<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">|</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> str <span class="token operator">=</span> arg <span class="token keyword">as</span> <span class="token builtin">string</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//相当于 在这里 我假设他是string类型</span>
		<span class="token keyword">return</span> str<span class="token punctuation">.</span>length
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> <span class="token builtin">number</span> <span class="token operator">=</span> arg <span class="token keyword">as</span> <span class="token builtin">number</span>
        <span class="token keyword">return</span> <span class="token builtin">number</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
日常欺骗Ts编译器
</code></pre></div><div class="language-typescript extra-class"><pre class="language-typescript"><code>泛型
泛型可以说是把<span class="token constant">JS</span>彻底规范化 工程化的东西
意思就是 处理的数据类型 和最终返回的数据类型保持一致 而且在开发的时候并没有对这个数据类型做出约束 也就是开发者并不知道 会给你传入什么数据类型 但是 不管传入什么数据类型都要达到 这个函数最终形成的效果，于是乎泛型的作用就要体现出来了
eg：
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">print</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span>
    <span class="token keyword">return</span> arg
<span class="token punctuation">}</span>
这个就能保证处理的数据 和传入的数据保持了一致 并不需要你多次在传入数据上面做出数据约束
<span class="token comment">//核心作用就是约束数据类型</span>
</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/Nianchen/LearnImg/202209262024639.png" alt="image-20220401170843427"></p> <h1 id="第二遍看"><a href="#第二遍看" class="header-anchor">#</a> 第二遍看</h1> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// Ts与Js不同的就在于 Ts甚至可以指定函数的输入输出</span>

<span class="token comment">// js的函数基本上就是整个js唯一的传参方式，所以限制参数的类型有时候可以起的奇效</span>

<span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span>name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>toUpperCase<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token comment">// greet(42) 比如这种方式的错误</span>

<span class="token function">greet</span><span class="token punctuation">(</span><span class="token string">&quot;jidoawi&quot;</span><span class="token punctuation">)</span>



<span class="token keyword">function</span> <span class="token function">Detialreturn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">{</span>

  <span class="token comment">// 这就要求必须返回一个number</span>

  <span class="token keyword">return</span> <span class="token number">0</span>

<span class="token punctuation">}</span>


<span class="token comment">// T具有一部分的类型推断能力 很多时候 他其实可以帮助你推断出来大部分的代码类型</span>

<span class="token keyword">function</span> <span class="token function">sayhello</span><span class="token punctuation">(</span>person<span class="token operator">:</span><span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token comment">// 可选属性 有一部分的属性甚至是可有可无的</span>

<span class="token keyword">function</span> <span class="token function">sayhello1</span><span class="token punctuation">(</span>person<span class="token operator">:</span><span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>age<span class="token operator">?</span><span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>

 
<span class="token punctuation">}</span>

<span class="token comment">// 在 JavaScript 中，如果你获取一个不存在的属性，你会得到一个 undefined 而不是一个运行时错误。</span>

<span class="token comment">// 因此，当你获取一个可选属性时，你需要在使用它前，先检查一下是否是 undefined。</span>


<span class="token comment">// 联合类型 针对一个值可能有多个类型中的一个 被称为联合类型</span>

<span class="token keyword">function</span> <span class="token function">GetId</span><span class="token punctuation">(</span>id<span class="token operator">:</span><span class="token builtin">number</span><span class="token operator">|</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><p>// 但是联合类型也有问题 就比如paseint只存在于number上 对string调用就会出错</p> <p>// 解决这种办法就只能通过类似JS的类型收缩 也就是手动判断完之后再进行调用方法</p> <p>//如果一个对象我们需要的属性实在是太多了 但是我们又没办法在参数里全部写完</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">person</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

  name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>

  age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>

  adress<span class="token operator">:</span><span class="token builtin">string</span>

<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Getperson</span><span class="token punctuation">(</span>per<span class="token operator">:</span>person<span class="token punctuation">)</span><span class="token punctuation">{</span>

  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>per<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><p>//同样可以实现这个功能的关键字 叫做接口 interface</p> <p>//接口与别名唯一的区别就是接口可以拓展 但是对象的别名是死的 不能拓展</p> <h2 id="类型断言"><a href="#类型断言" class="header-anchor">#</a> 类型断言</h2> <p>我们都知道Ts十分关注数据的类型，但是我们有时候我们已经明确的知道需要一个什么类型 但是编译器不知道 这时候就出现了一个类型断言的东西 来指定某个变量就是某种数据类型</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> myCanvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;main_canvas&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLCanvasElement
</code></pre></div><p>但是 类型断言的存在也就让有时候一些必要的数据类型转换出错，比如 number 转 string
这个时候我们需要 const a = (number as any) as string 也就是先转any再转string 就不会出错</p> <h2 id="字面量类型"><a href="#字面量类型" class="header-anchor">#</a> 字面量类型</h2> <p>字面量本身并没有什么用 但是搭配起来联合数据类型</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">printText</span><span class="token punctuation">(</span>s<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>alignment<span class="token operator">:</span><span class="token string">&quot;left&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;right&quot;</span><span class="token punctuation">)</span>
<span class="token comment">//这样就把后面的alignment的值进行了限制</span>
</code></pre></div><h2 id="字面量推断"><a href="#字面量推断" class="header-anchor">#</a> 字面量推断</h2> <p>当你初始化变量为一个对象的时候，TypeScript 会假设这个对象的属性的值未来会被修改，举个例子，如果你写下这样的代码：</p> <h2 id="非空断言操作符-后缀-non-null-assertion-operator"><a href="#非空断言操作符-后缀-non-null-assertion-operator" class="header-anchor">#</a> 非空断言操作符（后缀 <code>!</code>）(Non-null Assertion Operator)</h2> <p>这个的意思是加上这个后 这个值 不可能是null 或 undefined</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span>x<span class="token operator">?</span><span class="token operator">:</span><span class="token builtin">number</span><span class="token operator">|</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">log</span><span class="token punctuation">(</span>x<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">tofixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="类型收窄-narrowing"><a href="#类型收窄-narrowing" class="header-anchor">#</a> 类型收窄（Narrowing）</h2> <p>借助JS本身的typeof操作符进行类型收窄针对不同的类型做不同的操作</p> <p>因为js对于某些特殊值到布尔值的转换比较离谱 所以再类型收紧的时候 往往会出现一些意外的操作</p> <h3 id="in操作符收窄-通过-xxx-in-object-也可以进行一部分收窄操作"><a href="#in操作符收窄-通过-xxx-in-object-也可以进行一部分收窄操作" class="header-anchor">#</a> In操作符收窄 通过 xxx in object 也可以进行一部分收窄操作</h3> <h1 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h1> <p>1.函数类型表达式</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">greeter</span><span class="token punctuation">(</span><span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">fn</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">function</span> <span class="token function">printToConsole</span><span class="token punctuation">(</span>s<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">greeter</span><span class="token punctuation">(</span>printToConsole<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="函数调用签名"><a href="#函数调用签名" class="header-anchor">#</a> 函数调用签名</h3> <p>给函数中添加一部分自己的属性，也就是一个调用签名</p> <h3 id="泛型函数"><a href="#泛型函数" class="header-anchor">#</a> 泛型函数</h3> <p>利用泛型我们可以很轻易的做到输出类型等于输入类型 并且很好处理</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">firstElement</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arr<span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token constant">T</span><span class="token operator">|</span><span class="token keyword">undefined</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment">//约束了输入的类型是一个数组 但是同样可以处理string数组和number数组</span>
</code></pre></div><h3 id="推断-inference-只能说ts的推断能力太强了-大部分元素都是靠推断得来的数据类型"><a href="#推断-inference-只能说ts的推断能力太强了-大部分元素都是靠推断得来的数据类型" class="header-anchor">#</a> 推断（Inference）只能说Ts的推断能力太强了 大部分元素都是靠推断得来的数据类型</h3> <h3 id="约束"><a href="#约束" class="header-anchor">#</a> 约束</h3> <p>可以对传入函数的参数进行约束，比如限制他身上必须有length的属性等等</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">longest</span><span class="token generic class-name"><span class="token operator">&lt;</span>Type <span class="token keyword">extends</span> <span class="token punctuation">{</span>length <span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">}</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>a<span class="token operator">:</span>type<span class="token punctuation">,</span>b<span class="token operator">:</span>type<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> b<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> a
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> b
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//这样在你传入的参数没有length这个属性的时候就会报错</span>
</code></pre></div><p>回调函数中最好不要添加可选参数，可以设置多个参数但是并不传入，js会忽略掉你多传入的值，Ts也一样</p> <h2 id="函数重载-function-overloads"><a href="#函数重载-function-overloads" class="header-anchor">#</a> 函数重载（Function Overloads）</h2> <p>Js原生其实并不支持重载，因为重载代表的是同一个函数传入不同类型的参数，但是Ts的出现让类型限制出现了更多的可能</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">//通过函数签名实现</span>
<span class="token keyword">function</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">len</span><span class="token punctuation">(</span>arr<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">len</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/Nianchen/LearnImg/202209262052110.png" alt="image-20220926205219064"></p> <p>！！最终实现的签名len是不能被调用的</p> <h2 id="在函数中声明-this-declaring-this-in-a-function"><a href="#在函数中声明-this-declaring-this-in-a-function" class="header-anchor">#</a> 在函数中声明 this (Declaring <code>this</code> in a Function)</h2> <div class="language-Ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
 
  admin<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token function-variable function">becomeAdmin</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>admin <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>在大多数的情况下this还是指向所在地的外层对象这样基本上和Js的this差不多
但是Js的this属于保留字是不能当参数的但是Ts可以但是注意不能使用箭头函数箭头函数还是会导致this丢失问题</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/MylearnBlog/Vue2/Vue2.html" class="prev">
        Vue2入门
      </a></span> <span class="next"><a href="/MylearnBlog/javascript/正则表达式.html">
        正则表达式
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/MylearnBlog/assets/js/app.27f3880a.js" defer></script><script src="/MylearnBlog/assets/js/2.f721d287.js" defer></script><script src="/MylearnBlog/assets/js/11.051bdd2d.js" defer></script>
  </body>
</html>
